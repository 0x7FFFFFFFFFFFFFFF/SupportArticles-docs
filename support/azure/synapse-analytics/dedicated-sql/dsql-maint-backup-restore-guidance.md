---
title: Backup, Restore and Recovery Guidance for Azure Synapse dedicated SQL pools
description: FAQs and solutions to common issues on Azure Synapse dedicated SQL pools
ms.date: 01/31/2023
author: scott-epperly
ms.author: dialmoth
ms.reviewer: scepperl
---

# Backup, Restore and Recovery Guidance for Azure Synapse dedicated SQL pools

_Applies to:_ &nbsp; Azure Synapse Analytics

The dedicated SQL pool (formerly SQL DW) backup and restore component provides an essential safeguard for protecting critical data stored in your SQL pools. Aspects of backup and restore include recovery time objective (RTO), geo-backup, and disaster recovery strategy. Use the following guidance, which includes frequently asked questions (FAQ), to learn about dedicated SQL pool backups, restores, geo-backups, and more.

Scan the following section headings and select one or more to learn more or help resolve your issue.

In this article, learn about:

* [Important prerequisites](#important-prerequisites)
* [Backup FAQs](#backup-faqs)
* [Restore FAQs](#restore-faqs)
* [Geo-backup FAQs](#geo-backup-faqs)
* [Disaster recovery, recovery point objective, and recovery time objective FAQs](#disaster-recovery-recovery-point-objective-and-recovery-time-objective-faqs)
* [Solutions for common backup and restore issues](#solutions-for-common-backup-and-restore-issues)


## Important prerequisites

* Dedicated SQL pool should be in an *active* state for restore-point creation. If it's paused often, automatic restore points may not be created. Make sure to create a user-defined restore point before pausing the dedicated SQL pool.
* If you're planning to use a PowerShell script to restore, make sure that you're using the latest version of:  
  * [Az.Sql package](https://www.powershellgallery.com/packages/Az.Sql/)
  * [Az.Synapse package](https://www.powershellgallery.com/packages/Az.Synapse/)
* Review the main differences between Azure Synapse (formerly SQL DW) and an Azure Synapse Analytics workspace. If you're planning to restore your pool between those resources, see [The difference between Azure Synapse (formerly SQL DW) and an Azure Synapse Analytics workspace](https://techcommunity.microsoft.com/t5/azure-synapse-analytics-blog/what-s-the-difference-between-azure-synapse-formerly-sql-dw-and/ba-p/3597772).

## Frequently Asked Questions

| FAQ | Solution/Recommendation |
|-----|-------------------------|
| <h2 id="backup-faqs">Backup FAQs</h2> | &nbsp; |
| **Is it possible to take a local backup and store it on-premises from the dedicated SQL pool?** | Generating a backup file from an existing restore point isn't supported for dedicated SQL pools. If you want to keep a specific restore point, restore that restore point to a different server or database. After you've restored it, you have the dedicated SQL pool online and can pause it indefinitely to save compute costs. |
| **We have a major deployment. Can we perform a backup before that happens?** | Yes, a [user-defined restore point](https://learn.microsoft.com/azure/synapse-analytics/sql-data-warehouse/backup-and-restore#user-defined-restore-points) can be used for that purpose. For more information about creating the restore point from either the Azure portal or by using PowerShell, see:<ul><li>[Use the Azure portal](https://learn.microsoft.com/azure/synapse-analytics/sql-data-warehouse/sql-data-warehouse-restore-points#create-user-defined-restore-points-through-the-azure-portal).</li><li> [Use PowerShell](https://learn.microsoft.com/en-us/azure/synapse-analytics/sql-data-warehouse/sql-data-warehouse-restore-points#create-user-defined-restore-points-through-powershell).</li></ul> **Note:** 42 user-defined restore points are guaranteed at any point in time, so they must be dropped before creating another restore point. |
| **Is long-term backup supported?** |<ul><li>Long-term backup isn't supported in a dedicated SQL pool.</li><li>If you want to implement a scenario similar to a long-term backup, do the following</li><ul><li>Create a new user-defined restore point, or use one of the automatically generated restore points.</li><li>Restore from the newly created restore point to a new data warehouse.</li><li>After you've restored, you have the dedicated SQL pool online. Pause it indefinitely to save compute costs. The paused database incurs storage charges at the Azure Synapse storage rate.</li></ul></ul> |
| <h2 id="restore-faqs">Restore FAQs</h2> | &nbsp; |
| **What options do I have to restore my dedicated SQL pool?** | <ul><li>[Restore an existing dedicated SQL pool through the Synapse Studio](https://learn.microsoft.com/azure/synapse-analytics/backuprestore/restore-sql-pool#restore-an-existing-dedicated-sql-pool-through-the-synapse-studio)</li><li>[Restore an existing dedicated SQL pool through the Azure portal](https://learn.microsoft.com/azure/synapse-analytics/backuprestore/restore-sql-pool#restore-an-existing-dedicated-sql-pool-through-the-azure-portal)</li><li>[Restore an existing dedicated SQL pool through PowerShell](https://learn.microsoft.com/azure/synapse-analytics/backuprestore/restore-sql-pool#restore-an-existing-dedicated-sql-pool-through-powershell)</li><li>[Restore an existing dedicated SQL pool to a different subscription through PowerShell](https://learn.microsoft.com/azure/synapse-analytics/backuprestore/restore-sql-pool#restore-an-existing-dedicated-sql-pool-to-a-different-subscription-through-powershell)</li></ul> |
| **What is the recovery time objective (RTO) to recover the SQL pool?** | Dedicated SQL pool restore rates can vary depending on the database size and location of the source and target data warehouse. |
| **I want to restore a backup that's encrypted by a customer-managed key. How can I do this?** | To restore a backup encrypted with a transparent data encryption (TDE) protector from a key vault (customer-managed key), make sure that the key material is available to the target server by providing the below permissions:<ul><li>WrapKey</li><li>UnwrapKey</li><li>Get</li></ul>For more information, see [Database backup and restore with customer-managed TDE](https://learn.microsoft.com/azure/azure-sql/database/transparent-data-encryption-byok-overview?view=azuresql#database-backup-and-restore-with-customer-managed-tde).<br><br>If the target server is a dedicated SQL pool, you can link other keys to be used by the restore service without marking them as a TDE protector. See [Database backup and restore with customer-managed TDE](https://learn.microsoft.com/azure/azure-sql/database/transparent-data-encryption-byok-overview?view=azuresql#database-backup-and-restore-with-customer-managed-tde).
| **I accidentally dropped the server/workspace but haven't yet re-created a new one with same name. How do I recover my server/workspace?** | <ul><li>[Restore a dedicated SQL pool from a deleted server](https://learn.microsoft.com/azure/synapse-analytics/sql-data-warehouse/sql-data-warehouse-restore-from-deleted-server).</li><li>[Restore a dedicated SQL pool from a deleted workspace](https://learn.microsoft.com/azure/synapse-analytics/backuprestore/restore-sql-pool-from-deleted-workspace).</li><li>If the deleted server/workspace used a customer-managed key for encryption and there are databases with non-dedicated SQL pool edition, for example, an Azure database, contact the Microsoft support team to recover the server.</li></ul>
| **I accidentally dropped one of the tables inside my dedicated SQL pool. Can I restore that table alone? What's the fastest way to restore that table?** | Table-level restore isn't supported in dedicated SQL pools. You can only recover the entire dedicated SQL pool from your backup, and then copy the required table(s) by using:<ul><li>Extract, transform, load (ETL) tool activities, such as *copy activity*.</li><li>Export and import.</li><ul><li>Export the data from the restored backup into your data lake by using `CREATE EXTERNAL TABLE AS SELECT` (CETAS).</li><li>Import the data by using `COPY` or PolyBase.</li></ul></ul> |
| **As part of our data management tasks, we might need to support requirements to restore a specific schema or table from 14 days ago. How can we do this?** | A dedicated SQL pool takes snapshots of your data throughout the day, creating restore points that are available for seven days. **Note**: Dedicated SQL pools should be in an active state for restore point creation.  Table-level restore isn't supported in dedicated SQL pools.<br><br>To support requirements to restore a specific schema or table from 14 days ago, you can export the required table(s) to blob storage by using the native CETAS or any ETL tool. After you restore, you can import data by using `COPY`, PolyBase, or any ETL tool. |
| **Does a dedicated SQL pool support a partial restore?** | A partial restore isn't supported in dedicated SQL pools. |
| **Does a dedicated SQL pool support a table-level restore?** | Synapse Analytics dedicated SQL pools don't currently support table-level restores. You can recover only an entire database from your backup.
| **How do I restore a dedicated SQL pool between subscriptions?** | You can restore an existing dedicated SQL pool to a different subscription through PowerShell. For detailed instructions, see the guidance found in:<ul><li>[Synapse Cross-Subscription Restore - Tech Community](https://techcommunity.microsoft.com/t5/azure-synapse-analytics-blog/announcing-general-availability-of-cross-subscription-restore/ba-p/3280185)</li><li>[Restore an existing dedicated SQL pool to a different subscription through PowerShell](/azure/synapse-analytics/sql-data-warehouse/sql-data-warehouse-restore-active-paused-dw#restore-an-existing-dedicated-sql-pool-formerly-sql-dw-to-a-different-subscription-through-powershell)</li><li>[Restore an existing dedicated SQL pool to a different subscription through PowerShell](/azure/synapse-analytics/backuprestore/restore-sql-pool#restore-an-existing-dedicated-sql-pool-to-a-different-subscription-through-powershell)</li></ul><br>**Note**: When you perform a cross-subscription restore, a Synapse workspace-dedicated SQL pool can restore only to a standalone-dedicated SQL pool.<br><br>If the destination that you want is a Synapse workspace:<ol><li>Create a restore point for the newly created data warehouse.</li><li>Use `Select -Last 1` to retrieve the last restore point created.</li><li>Perform the restore to the Synapse workspace that you want.</li></ol> |
| <h2 id="geo-backup-faqs">Geo-backup FAQs</h2> | &nbsp; |
| **Can I determine the frequency of the geo-backup?** | No, the frequency of the geo-backup is predetermined. |
| **With geo-back enabled, how many copies of backup are stored in the Azure-paired regions?** | A geo-backup is created once per day to a paired data center. The recovery point objective (RPO) for a geo-restore is 24 hours.<br><br>For more information about geo-backup, see [Geo-backups and disaster recovery](https://learn.microsoft.com/azure/synapse-analytics/sql-data-warehouse/backup-and-restore#geo-backups-and-disaster-recovery).
| **Is it possible to replicate a user-defined snapshot from a primary region to a secondary region?** | Snapshots (both user-defined and automatic) aren't replicated. Geo-backup is created once every 24 hours from the latest local snapshot.  There are no public APIs for replicating a restore point to another region. You can still restore the required backup and pause the instance to save the compute cost. |
| <h2 id="disaster-recovery-recovery-point-objective-and-recovery-time-objective-faqs">Disaster recovery, recovery point objective, and recovery time objective FAQs</h2> | &nbsp; |
| **In case of disaster recovery, what is the expected recovery point objective (RPO) and recovery time objective (RTO) to recover the dedicated SQL pool?** | Dedicated SQL pool performs a geo-backup once a day to a paired data center. For a geo-restore, the RPO is 24 hours. If you're looking for shorter RPO, you can either restore the system restore-point or create a new user-defined restore point and restore it to a different region, based on the required RPO/RTO. After you've restored it, you have the dedicated SQL pool online and can pause it indefinitely to save compute costs.<br><br>Keep in mind that:<ul><li>You can restore the geo-backup to a server in any other paired region where dedicated SQL pool is supported.</li><li>A geo-backup helps to ensure that you can restore the dedicated SQL pool, which can be helpful if you're unable to access the restore points in your primary region.</li><li> The dedicated SQL pool size may affect the RPO/RTO targets. For example, if you're looking for *X*-hour(s) RPO/RTO, you can create a user-defined restore. Wait a few minutes, and then restore the backup to the target region. You can pause the restored instance to save compute costs. If the database size is small, the backup can complete under *X* hour(s).  However, as the database grows, *X*-hour(s) RPO/RTO may not be possible.</li></ul> |
| **What is the recovery time objective (RTO) to recover the dedicated SQL pool?** | Dedicated SQL pool restore rates can vary depending on the database size and location of the source and target data warehouse. |
| **Are there best practices that would help me find a good resilience and recovery strategy? What about cross-subscription restore?** | Individual users and organizations have different goals and different data sizes. For example, if you have a small SQL pool instance, you might use cross-region restore from a local point and then pause it to save the compute cost. For large SQL pool instances, this approach might not work because cross-region restore may take several days.<br><br>For cross-subscription restore options, review:<ul><li>[Restore an existing dedicated SQL pool to different subscription](https://learn.microsoft.com/azure/synapse-analytics/backuprestore/restore-sql-pool#restore-an-existing-dedicated-sql-pool-to-a-different-subscription-through-powershell)</li><li>[Synapse Cross-Subscription Restore - Tech Community](https://techcommunity.microsoft.com/t5/azure-synapse-analytics-blog/announcing-general-availability-of-cross-subscription-restore/ba-p/3280185)</li></ul> |

## Solutions for common backup and restore issues

|Issue|Solution|
|---|---|
| You recently renamed your Synapse database and you received the following error when trying to recover a geo-backup: <br> - "No Geo-Backup has been created yet" (through the portal). <br> - "NotFound" (through PowerShell). | This issue may occur because the rename hasn't been replicated to your regional pair. You can use the old name to recover your Synapse database. |
| You want to restore a geo-backup, but you're unable to find a restore point. | It's likely that this issue is due to frequent pausing of your dedicated SQL pool. Restore points may not have a chance to complete if the dedicated SQL pool is frequently paused.
| You receive an error message that states, "The server is not in a ready state." | Check the status of the destination SQL Server to make sure that it's in an *Available* state. You'll see the status in the **Overview** pane of the destination SQL Server in the Azure portal.
| You're moving or restoring your dedicated SQL pool across subscriptions. |<br>- Go through the [checklist](/azure/azure-resource-manager/resource-group-move-resources#checklist-before-moving-resources) before moving.<br>- If you need to restore to a new dedicated SQL pool across subscriptions, see [Move your Azure Data Warehouse to a new region and/or subscription](https://techcommunity.microsoft.com/t5/Azure-Data-Warehouse-Support/How-To-Move-your-Azure-Data-Warehouse-to-a-new-region-and-or/ba-p/682907).<br>- If you're restoring the dedicated SQL pool to a different server, follow [this checklist](/azure/sql-database/sql-database-disaster-recovery#configure-your-database-after-recovery) to ensure the recovered dedicated SQL pool has appropriate security configuration.<br>- To remap a database user to a different sign-in, use `ALTER USER <UserName> WITH LOGIN = <LoginName>`.

## Extra Resources

- [Overview of backup and restore](https://azure.microsoft.com/documentation/articles/sql-data-warehouse-restore-database-overview/)
- Understanding [restore points](/azure/sql-data-warehouse/backup-and-restore#restoring-from-restore-points)
- Learn the basics on the Move functionality, including how to [automate via PowerShell](/azure/azure-resource-manager/resource-group-move-resources#use-azure-powershell)

